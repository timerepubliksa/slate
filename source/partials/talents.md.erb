# Talenti

I Talenti sono dei Tag che un utente puo' collegare al proprio profilo per definire le proprie abilità.
I Talenti sono raggruppati in Categorie su 2 livelli.

## Categorizzazione Talenti

```shell```
  curl "https://timerepublik.com/api/v1/talent_categories.json?q\[children_of\]=1"
```

```json```
[
  {
    "id": 2,
    "name": "Computers & WWW",
    "description": null,
    "position": 0.0,
    "parent_id": 1,
    "depth": 0,
    "icon": null,
    "talent_ids": [
      1,
      2,
      3
    ]
  },
  {
    "id": 3,
    "name": "Electronics & Digitals",
    "description": null,
    "position": 0.0,
    "parent_id": 1,
    "depth": 0,
    "icon": null,
    "talent_ids": []
  }
]
```


L'endpoint permette di ottenere la lista di tutte le categorie di talento disponibili. 

Le categorie sono organizzate ad albero, la struttura è definita dagli attributi parent_id (id del nodeo padre) e depth (profondità nell'albero)

`GET https://timerepublik.com/api/v1/talents_categories.json`

Per l'endpoint talent_categories non è necessario il token di autenticazione

### Parametri opzionali di ricerca

Parameter | Type | Description
--------- | ------- | -----------
q[before_depth]|integer|(depth)  Ritorna tutte le categorie con profondità minore del valore del parametro indicato (node.q[depth < depth)
q[to_depth]|integer|(depth)      Ritorna tutte le categorie con profondità minore o uguale del valore del parametro (node.q[depth <= depth)
q[at_depth]|integer|(depth)      Ritorna le categorie esattamente alla profondita' indicata (node.depth == depth)
q[from_depth]|integer|(depth)    Ritorna le categorie con profondità maggiore o uguale del parametro (node.depth >= depth)
q[after_depth]|integer|(depth)   Ritorna le categorie con profondità maggiore del parametro indicato (node.depth > depth)
q[ancestors_of]|integer|(node)   Ritorna tutti gli antenati della categoria con ID in parametro
q[children_of]|integer|(node)    Ritorna tutti i figli della categoria con ID in parametro

### Attributi delle categorie

Parameter | Type | Description
--------- | ------- | -----------
id|integer|ID della categoria
name|string| Nome della categoria
description|text| Breve descrizione della categoria
position|integer| Ordine con il cuale visualizzare la categoria
parent_id|integer| ID della categoria padre
depth|integer| Profondità nell'albero delle categorie (root=0)
icon|Json| Immagine Icona della categoria
talent_ids|Array| un array di ID di talento ragruppati in questa categoria

## Dettaglio categoria Telento

`GET https://timerepublik.com/api/v1/talents_categories/:ID_CATEGORY.json`

L'endpoint per il dettaglio della categoria ritorna anche la lista delle categorie figlio e la rappresentazione dei talenti come Json innestati.


```shell```
  curl "https://timerepublik.com/api/v1/talent_categories/2.json"
```

```json```
{
  "id": 2,
  "name": "Computers & WWW",
  "description": null,
  "position": 0.0,
  "parent_id": 1,
  "depth": 0,
  "icon": null,
  "talent_ids": [
    1,
    2,
    3
  ],
  "child_ids": [],
  "children": [],
  "talents": [
    {
      "id": 1,
      "talent_category_id": 2,
      "icon": {
        "url": "fallbacks/icon_default.png",
        "little": {
          "url": "fallbacks/icon_little.png"
        },
        "small": {
          "url": "fallbacks/icon_small.png"
        },
        "medium": {
          "url": "fallbacks/icon_medium.png"
        },
        "big": {
          "url": "fallbacks/icon_big.png"
        }
      },
      "name": "Computer Helper",
      "position": 0.0,
      "slug": null,
      "disabled": false,
      "tags_count": 1,
      "created_at": "2015-06-30T15:25:38.000Z",
      "updated_at": "2015-06-30T15:25:38.000Z"
    },
    {
      "id": 2,
      "talent_category_id": 2,
      "icon": {
        "url": "fallbacks/icon_default.png",
        "little": {
          "url": "fallbacks/icon_little.png"
        },
        "small": {
          "url": "fallbacks/icon_small.png"
        },
        "medium": {
          "url": "fallbacks/icon_medium.png"
        },
        "big": {
          "url": "fallbacks/icon_big.png"
        }
      },
      "name": "Programmer",
      "position": 0.0,
      "slug": null,
      "disabled": false,
      "tags_count": 1,
      "created_at": "2015-06-30T15:25:38.000Z",
      "updated_at": "2015-06-30T15:25:38.000Z"
    },
    {
      "id": 3,
      "talent_category_id": 2,
      "icon": {
        "url": "fallbacks/icon_default.png",
        "little": {
          "url": "fallbacks/icon_little.png"
        },
        "small": {
          "url": "fallbacks/icon_small.png"
        },
        "medium": {
          "url": "fallbacks/icon_medium.png"
        },
        "big": {
          "url": "fallbacks/icon_big.png"
        }
      },
      "name": "Web Developer",
      "position": 0.0,
      "slug": null,
      "disabled": false,
      "tags_count": 0,
      "created_at": "2015-06-30T15:25:38.000Z",
      "updated_at": "2015-06-30T15:25:38.000Z"
    }
  ],
  "disabled": false,
  "created_at": "2015-06-30T15:25:38.000Z",
  "updated_at": "2015-06-30T15:25:38.000Z"
}
```

## Lista Talenti

> Ottiene la lista dei talenti aggregati nella categoria con id 2

```shell```
  curl "https://timerepublik.com/api/v1/talent_categories/2/talents.json"
```

> risposta

```json```
[
  {
    "id": 1,
    "name": "Computer Helper",
    "position": 0.0,
    "slug": null,
    "icon": null,
    "tags_count": 1,
    "talent_category_id": 2,
    "disabled": false
  },
  {
    "id": 2,
    "name": "Programmer",
    "position": 0.0,
    "slug": null,
    "icon": null,
    "tags_count": 1,
    "talent_category_id": 2,
    "disabled": false
  },
  {
    "id": 3,
    "name": "Web Developer",
    "position": 0.0,
    "slug": null,
    "icon": null,
    "tags_count": 0,
    "talent_category_id": 2,
    "disabled": false
  }
]
```


`GET: https://timerepublik.com/api/v1/talents.json`

oppure

`GET: https://timerepublik.com/api/v1/talent_categories/:TALENT_CATEGORY_ID/talents.json`

l'endpoint ritorna la lista completa o filtrata dei talenti disponibili. 

Per l'endpoint talents non è necessario il token di autenticazione


### Parametri opzionali di ricerca

Parameter | Type | Description
--------- | ------- | -----------
talent_category_id|integer| Filtra i talenti per un id di categoria.
q[tags]|Array(string)| Filtra i talenti collegati ad una determinata tag list 


## Dettaglio Talento

> Dettaglio talento con id 1

```shell```
  curl "https://timerepublik.com/api/v1/talents/1.json"
```

> risposta

```json```
{
  "id": 1,
  "name": "Computer Helper",
  "position": 0.0,
  "slug": null,
  "icon": null,
  "tags_count": 1,
  "talent_category_id": 2,
  "disabled": false,
  "created_at": "2015-06-30T15:25:38.000Z",
  "updated_at": "2015-06-30T15:25:38.000Z",
  "talent_category": {
    "id": 2,
    "name": "Computers & WWW",
    "description": null,
    "position": 0.0,
    "parent_id": 1,
    "depth": 0,
    "icon": null,
    "talent_ids": [
      1,
      2,
      3
    ]
  }
}
```



`GET: https://timerepublik.com/api/v1/talents/:ID_TALENTO.json`

Ritorna il dettaglio del talento identificato da ID :ID_TALENTO



